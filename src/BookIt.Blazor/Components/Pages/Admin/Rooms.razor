@page "/{tenantSlug}/admin/rooms"
@rendermode @(new InteractiveServerRenderMode(prerender: false))
@layout BookIt.UI.Shared.Components.Admin.AdminLayout
@inject BookItAuthState Auth
@inject NavigationManager Nav

<PageTitle>Rooms &amp; Lodging — BookIt Admin</PageTitle>

@if (!Auth.IsAuthenticated)
{
    <MudText>Redirecting…</MudText>
}
else
{
    <BookIt.UI.Shared.Components.Admin.RoomsView TenantSlug="@TenantSlug" />
}

@code {
    [Parameter] public string TenantSlug { get; set; } = "";
    protected override void OnInitialized()
    {
        if (!Auth.IsAuthenticated)
            Nav.NavigateTo($"/login?returnUrl=/{TenantSlug}/admin/rooms");
    }
}
